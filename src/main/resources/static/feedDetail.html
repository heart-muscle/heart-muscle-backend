<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">

    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <!-- Facebook Meta Tags / 페이스북 오픈 그래프 -->
    <meta property="og:url" content="http://kindtiger.dothome.co.kr/insta">
    <meta property="og:type" content="website">
    <meta property="og:title" content="instagram">
    <meta property="og:description" content="instagram clone">
    <meta property="og:image" content="http://kindtiger.dothome.co.kr/insta/imgs/instagram.jpeg">
    .
    <!-- Twitter Meta Tags / 트위터 -->
    <meta name="twitter:card" content="instagram clone">
    <meta name="twitter:title" content="instagram">
    <meta name="twitter:description" content="instagram clone">
    <meta name="twitter:image" content="http://kindtiger.dothome.co.kr/insta/imgs/instagram.jpeg">

    <!-- Google / Search Engine Tags / 구글 검색 엔진 -->
    <meta itemprop="name" content="instagram">
    <meta itemprop="description" content="instagram clone">
    <meta itemprop="image" content="http://kindtiger.dothome.co.kr/insta/imgs/instagram.jpeg">


    <title>instagram</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/detail-page.css">
    <link rel="shortcut icon" href="imgs/instagram.png">


    <!-- JQuery-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>


    <style>
        #main_container {
            /*height: 6000px;*/
        }
    </style>
</head>

<script>

    $(document).ready(function () {
        id = getParam('id');
        console.log(id)
        getFeed(id);
    })

    function getParam(name) {
        var results = new RegExp('[\?&amp;]' + name + '=([^&amp;#]*)').exec(window.location.href);
        console.log(results)
        return results[1] || 0;
    }

    function getFeed() {
        $.ajax({
            type: "GET",
            url: `/feed/${id}`,
            success: function (response) {
                console.log(response);

                // $('#title').html(response['title']);
                // $('#content').html(response['content']);
                // $('#url').html(response['imageUrl']);

                title = response['title'];
                content = response['content'];
                url = response['imageUrl'];

                tempHtml = `
                            <section id="main_container">
                                <section id="container">


                                    <header id="header">
                                        <section class="h_inner">

                                            <h1 class="logo">
                                                <a href="index.html">
                                                    <div class="sprite_insta_icon"></div>
                                                    <div>
                                                        <div class="sprite_write_logo"></div>
                                                    </div>
                                                </a>
                                            </h1>

                                            <div class="search_field">
                                                <input type="text" placeholder="검색" tabindex="0">

                                                <div class="fake_field">
                                                    <span class=sprite_small_search_icon></span>
                                                    <span>검색</span>
                                                </div>
                                            </div>


                                            <div class="right_icons">
                                                <a href="new_post.html"><div class="sprite_camera_icon"></div></a>
                                                <a href="login.html"><div class="sprite_compass_icon"></div></a>
                                                <a href="follow.html"><div class="sprite_heart_icon_outline"></div></a>
                                                <a href="profile.html"><div class="sprite_user_icon_outline"></div></a>
                                            </div>
                                        </section>
                                    </header>


                                    <article class="contents">
                                        <header class="top">
                                            <div class="user_container">
                                                <div class="profile_img">
                                                    <img src="imgs/thumb.jpeg" alt="프로필이미지">
                                                </div>
                                                <div class="user_name">
                                                    <div class="nick_name m_text">KindTiger</div>
                                                    <div class="country s_text">Seoul, South Korea</div>
                                                </div>

                                            </div>

                                            <div class="sprite_more_icon" data-name="more">
                                                <ul class="toggle_box">
                                                    <li><input type="submit" class="follow" value="팔로우" data-name="follow"></li>
                                                    <li>수정</li>
                                                    <li>삭제</li>
                                                </ul>
                                            </div>
                                        </header>

                                        <div class="img_section">
                                            <div class="trans_inner">
                                                <div><img src="${url}" style="width: 300px height: 300px" class="card-img-top" alt="..."></div>
                                            </div>
                                        </div>
                                        <div class="bottom_icons">
                                            <div class="left_icons">
                                                <div class="heart_btn">
                                                    <div class="sprite_heart_icon_outline" name="39" data-name="heartbeat"></div>
                                                </div>
                                                <div class="sprite_bubble_icon"></div>
                                                <div class="sprite_share_icon" data-name="share"></div>
                                            </div>
                                            <div class="right_icon">
                                                <div class="sprite_bookmark_outline" data-name="bookmark"></div>
                                            </div>
                                        </div>

                                        <div class="likes m_text">
                                            좋아요
                                            <span id="like-count-39">2,346</span>
                                            개
                                        </div>

                                        <div class="comment_container">
                                            <div class="comment" id="comment-list-ajax-post37">
                                                <div class="comment-detail">
                                                    <div class="nick_name m_text">${title}</div>
                                                </div>
                                                <div class="comment-detail">
                                                    <div class="nick_name m_text">${content}</div>
                                                </div>

                                            </div>
                                            <div class="small_heart">
                                                <div class="sprite_small_heart_icon_outline"></div>
                                            </div>
                                        </div>

                                        <div class="timer">1시간 전</div>

                                        <div class="comment_field" id="add-comment-post37">
                                            <input type="text" placeholder="댓글달기...">
                                            <div class="upload_btn m_text" data-name="comment">게시</div>
                                        </div>
                                    </article>

                                </section>
                            </section>
                `
                $('#feed').append(tempHtml)

            }
        })

    }
</script>

<body>

<div id="feed"></div>

<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<!--<script src="js/detail.js"></script>-->

<!-- JQuery -->
<script src="https://code.jquery.com/jquery-1.12.4.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>



</body>
</html>
